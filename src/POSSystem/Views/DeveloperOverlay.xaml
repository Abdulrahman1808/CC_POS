<UserControl x:Class="POSSystem.Views.DeveloperOverlay"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="50" d:DesignWidth="1000">
    
    <UserControl.Resources>
        <!-- Inline button style for self-contained usage -->
        <Style x:Key="DevOverlayButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#FFFEF2F2" />
            <Setter Property="Foreground" Value="#FF991B1B" />
            <Setter Property="BorderBrush" Value="#FFFECACA" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="10,5" />
            <Setter Property="FontSize" Value="11" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" 
                                              VerticalAlignment="Center" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#FFFEE2E2" />
                    <Setter Property="BorderBrush" Value="#FFFCA5A5" />
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="#FFFECACA" />
                </Trigger>
            </Style.Triggers>
        </Style>
    </UserControl.Resources>
    
    <!-- Developer Mode Overlay - Only visible when IsDeveloperMode is true -->
    
    <Border Background="#FFDC2626" 
            BorderBrush="#FFB91C1C"
            BorderThickness="0,0,0,2"
            Padding="10,6">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            
            <!-- Developer Mode Badge -->
            <Border Grid.Column="0" 
                    Background="#FFFECACA"
                    CornerRadius="4"
                    Padding="8,4"
                    Margin="0,0,15,0">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="âš ï¸" FontSize="14" VerticalAlignment="Center" Margin="0,0,6,0" />
                    <TextBlock Text="DEVELOPER MODE" 
                               FontWeight="Bold" 
                               FontSize="12"
                               Foreground="#FF991B1B"
                               VerticalAlignment="Center" />
                </StackPanel>
            </Border>
            
            <!-- Machine ID Display -->
            <TextBlock Grid.Column="1" 
                       VerticalAlignment="Center"
                       Foreground="White"
                       FontSize="11"
                       Opacity="0.9">
                <Run Text="Machine ID: " FontWeight="SemiBold" />
                <Run Text="{Binding MachineId, Mode=OneWay}" />
            </TextBlock>
            
            <!-- System Health Check Button -->
            <Button Grid.Column="2"
                    Content="ðŸ¥ Health Check"
                    Command="{Binding RunHealthCheckCommand}"
                    Style="{StaticResource DevOverlayButtonStyle}"
                    Margin="0,0,10,0"
                    ToolTip="Run system diagnostics (DB, Cloud, Printer)" />
            
            <!-- Force Sync Button -->
            <Button Grid.Column="3"
                    Content="ðŸ”„ Force Sync"
                    Command="{Binding ForceSyncCommand}"
                    Style="{StaticResource DevOverlayButtonStyle}"
                    Margin="0,0,10,0"
                    ToolTip="Force synchronization with cloud" />
            
            <!-- Clear Test Data Button -->
            <Button Grid.Column="4"
                    Content="ðŸ—‘ï¸ Clear Test Data"
                    Command="{Binding ClearTestDataCommand}"
                    Style="{StaticResource DevOverlayButtonStyle}"
                    Margin="0,0,10,0"
                    ToolTip="Clear all test transactions and products" />
            
            <!-- Generate Test Invoice Button -->
            <Button Grid.Column="5"
                    Content="ðŸ“„ Test Invoice"
                    Command="{Binding GenerateTestInvoiceCommand}"
                    Style="{StaticResource DevOverlayButtonStyle}"
                    ToolTip="Generate a test PDF invoice" />
        </Grid>
    </Border>
</UserControl>
